<!--
  ~ Copyright (c) 2025 Florian Hehlen & Ã“scar Otero
  ~ All rights reserved.
  -->

<idea-plugin>
    <id>org.js.vento.plugin</id>

    <name>Vento Template Engine</name>

    <description>Content replaced at build-time from README.md</description>
    <change-notes>Content replaced at build time from CHANGELOG.md</change-notes>

    <vendor url="https://github.com/ventojs">ventojs</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.json</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.xml</depends>
    <depends>JavaScript</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="Vento File" implementationClass="org.js.vento.plugin.filetype.VentoFileType" fieldName="INSTANCE" language="Vento" extensions="vto"/>
        <html.scriptContentProvider language="Vento" implementationClass="org.js.vento.plugin.highlighting.VentoScriptContentProvider"/>
        <lang.fileViewProviderFactory language="Vento" implementationClass="org.js.vento.plugin.filetype.VentoFileViewProviderFactory"/>
        <lang.parserDefinition language="Vento" implementationClass="org.js.vento.plugin.VentoParserDefinition"/>
        <lang.syntaxHighlighter language="Vento" implementationClass="org.js.vento.plugin.highlighting.SyntaxHighlighter"/>
        <editorHighlighterProvider filetype="Vento File" implementationClass="org.js.vento.plugin.highlighting.VentoHighlighterProvider"/>
        <colorSettingsPage implementation="org.js.vento.plugin.highlighting.ColorSettingsPage"/>
        <annotator language="Vento" implementationClass="org.js.vento.plugin.highlighting.Annotator"/>
        <lang.psiStructureViewFactory language="Vento" implementationClass="org.js.vento.plugin.structure.VentoStructureViewFactory"/>
        <lang.ast.factory language="Vento" implementationClass="org.js.vento.plugin.lexer.AstFactory"/>


        <multiHostInjector implementation="org.js.vento.plugin.parser.injectors.ContextualJavaScriptInjector"/>
    </extensions>

    <actions>
        <action id="VentoToggleCommentAction"
                class="org.js.vento.plugin.actions.ToggleCommentAction"
                text="Toggle Vento Comment"
                description="Toggle Vento comment markers ({{# #}}) around selection">
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl SLASH"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta SLASH"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta SLASH"/>
        </action>
    </actions>
</idea-plugin>
